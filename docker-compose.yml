version: "3.9"

services:
  wdc:
    image: renxt-wdc        # or ghcr.io/your-org/renxt-wdc if you're testing with GHCR
    ports:
      - "3333:3333"
    env_file: .env
    restart: unless-stopped

  watchtower:
    image: containrrr/watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ./watchtower-creds.json:/config/creds.json:ro
    environment:
      - WATCHTOWER_CLEANUP=true
      - WATCHTOWER_SCHEDULE=0 3 * * * 
      - WATCHTOWER_LABEL_ENABLE=true
      - REGISTRY_AUTH_FILE=/config/creds.json
    restart: unless-stopped
